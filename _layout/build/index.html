<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Задание 2 — сверстать макет</title>
  <link rel="icon" type="image/png" href="assets/favicon/favicon-16.png" sizes="16x16">
  <link rel="stylesheet" type="text/css" href="styles/main.css">
</head>
<body>
<div class="b-page">
<div class="b-head js-head">
  <div class="b-head__wrap mod-b-inner">
    <a class="b-head__logo" href="#"></a>
    <div class="b-head__menu">

      <div class="b-head__trigger js-menu-bar">
        <div class="b-bars"></div>
      </div>
      <div class="b-head__nav-wrap">
        <nav>
          <a href="#" class="mod-active">Сводка</a>
          <a href="#">Устройства</a>
          <a href="#">Сценарии</a>
        </nav>
      </div>
    </div>
  </div>
</div>
<div class="b-content mod-b-inner">
  <div class="b-content__line">
    <div class="b-content__col">
      <section class="b-content__main">
        <header class="b-content__title mod-mob-hidden">
          <h2>Главное</h2>
        </header>
        <div class="b-content__inner">
          <div class="b-info">
            <div class="b-info__contentl">
              <div class="b-info__title">
                <h3>Привет, Геннадий!</h3>
                <p>Двери и окна закрыты, сигнализация включена.</p>
              </div>
              <div class="b-info__values">
                <div class="b-temp">
                  <span class="b-temp__title">Дома</span>
                  <span class="b-temp__value">+23</span>
                </div>
                <div class="b-temp">
                  <span class="b-temp__title">За окном</span>
                  <span class="b-temp__value">+19 <i class="b-temp__ico mod-cloud"></i></span>
                </div>
              </div>
            </div>
            <div class="b-info__tabs">
              <div class="b-info__tabs-wrap js-tabs">
                <div class="b-tab">
                  <i class="b-tab__ico mod-temp-1"></i>
                  <div class="b-tab__content">
                    <p class="b-tab__title">
                      Philips Cooler
                    </p>
                    <p class="b-tab__text">
                      Начнет охлаждать в 16:30
                    </p>
                  </div>
                </div>
                <div class="b-tab">
                  <i class="b-tab__ico mod-sun-1"></i>
                  <div class="b-tab__content">
                    <p class="b-tab__title">
                      Xiaomi Yeelight LED Smart Bulb
                    </p>
                    <p class="b-tab__text">
                      Включится в 17:00
                    </p>
                  </div>
                </div>
                <div class="b-tab">
                  <i class="b-tab__ico mod-temp-1"></i>
                  <div class="b-tab__content">
                    <p class="b-tab__title">
                      Philips Cooler
                    </p>
                    <p class="b-tab__text">
                      Начнет охлаждать в 16:30
                    </p>
                  </div>
                </div>
              </div>
              <div class="b-info__arrow is-show js-arrow-show">
                <i class="b-arrow mod-arrow-top"></i>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <div class="b-content__col">
      <section class="b-content__main">
        <header class="b-content__title">
          <h2>Избранные сценарии</h2>
          <div class="b-content__arrows js-arrows" data-scroll="b-scenarios__wrap">
            <button class="mod-disabled js-arrow-l"><i class="b-arrow mod-arrow-left"></i></button>
            <button class="js-arrow-r"><i class="b-arrow mod-arrow-right"></i></button>
          </div>
        </header>
        <div class="b-content__inner">
          <div class="b-scenarios">
            <div class="b-scenarios__wrap js-scroll">
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Выключить весь свет в доме и во дворе
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Набрать горячую ванну
                  </p>
                  <p class="b-tab__text">
                    Начнётся в 18:00
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-clock"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Я ухожу
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Сделать пол тёплым во всей квартире
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Включить свет в&nbsp;коридоре
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Выключить весь свет в доме и во дворе
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Набрать горячую ванну
                  </p>
                  <p class="b-tab__text">
                    Начнётся в 18:00
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-clock"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Я ухожу
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Сделать пол тёплым во всей квартире
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Включить свет в&nbsp;коридоре
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Выключить весь свет в доме и во дворе
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Набрать горячую ванну
                  </p>
                  <p class="b-tab__text">
                    Начнётся в 18:00
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-clock"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Я ухожу
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Сделать пол тёплым во всей квартире
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Включить свет в&nbsp;коридоре
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Выключить весь свет в доме и во дворе
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Набрать горячую ванну
                  </p>
                  <p class="b-tab__text">
                    Начнётся в 18:00
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-clock"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Я ухожу
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Сделать пол тёплым во всей квартире
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Включить свет в&nbsp;коридоре
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Выключить весь свет в доме и во дворе
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Набрать горячую ванну
                  </p>
                  <p class="b-tab__text">
                    Начнётся в 18:00
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-clock"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Я ухожу
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Сделать пол тёплым во всей квартире
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Включить свет в&nbsp;коридоре
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Выключить весь свет в доме и во дворе
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Набрать горячую ванну
                  </p>
                  <p class="b-tab__text">
                    Начнётся в 18:00
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-clock"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Я ухожу
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-temp-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Сделать пол тёплым во всей квартире
                  </p>
                </div>
              </div>
              <div class="b-tab mod-height-100">
                <i class="b-tab__ico mod-sun-2"></i>
                <div class="b-tab__content">
                  <p class="b-tab__title">
                    Включить свет в&nbsp;коридоре
                  </p>
                </div>
              </div>


            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  <div class="b-content__line">
    <section class="b-content__main">
      <header class="b-content__title">
        <h2>Избранные устройства</h2>
        <div class="b-cat js-cat">
          <span class="b-cat__item is-active">Все</span>
          <span data-cat='1' class="b-cat__item">Кухня</span>
          <span data-cat='2' class="b-cat__item">Зал</span>
          <span data-cat='3' class="b-cat__item">Лампочки</span>
          <span data-cat='4' class="b-cat__item">Камеры</span>
        </div>
        <div class="b-content__arrows js-arrows" data-scroll="b-favorites__wrap">
          <button class="mod-disabled js-arrow-l"><i class="b-arrow mod-arrow-left"></i></button>
          <button class="js-arrow-r"><i class="b-arrow mod-arrow-right"></i></button>
        </div>
      </header>
      <div class="b-content__inner">
        <div class="b-favorites">
          <div class="b-favorites__wrap js-cat-items">
            <div data-cat='1' data-popup='1' class="b-tab js-popup mod-popup-active">
              <i class="b-tab__ico mod-sun-2"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Xiaomi Yeelight LED Smart Bulb
                </p>
                <p class="b-tab__text">
                  Включено
                </p>
              </div>
            </div>
            <div data-cat='2' data-popup='2' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  D-Link Omna 180 Cam
                </p>
                <p class="b-tab__text">
                  Включится в 17:00
                </p>
              </div>
            </div>
            <div data-cat='3' data-popup='3' class="b-tab js-popup">
              <i class="b-tab__ico mod-temp-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Elgato Eve Degree Connected
                </p>
                <p class="b-tab__text">
                  Выключено до 17:00
                </p>
              </div>
            </div>
            <div data-cat='4' data-popup='1' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  LIFX Mini Day & Dusk A60 E27
                </p>
                <p class="b-tab__text">
                  Включится в 17:00
                </p>
              </div>
            </div>
            <div data-cat='1' data-popup='2' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-2"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Xiaomi Mi Air Purifier 2S
                </p>
                <p class="b-tab__text">
                  Включено
                </p>
              </div>
            </div>
            <div data-cat='2' data-popup='3' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Philips Zhirui
                </p>
                <p class="b-tab__text">
                  Выключено
                </p>
              </div>
            </div>
            <div data-cat='3' data-popup='1' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-2"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Xiaomi Yeelight LED Smart Bulb
                </p>
                <p class="b-tab__text">
                  Включено
                </p>
              </div>
            </div>
            <div data-cat='4' data-popup='2' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  D-Link Omna 180 Cam
                </p>
                <p class="b-tab__text">
                  Включится в 17:00
                </p>
              </div>
            </div>
            <div data-cat='1' data-popup='3' class="b-tab js-popup">
              <i class="b-tab__ico mod-temp-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Elgato Eve Degree Connected
                </p>
                <p class="b-tab__text">
                  Выключено до 17:00
                </p>
              </div>
            </div>
            <div data-cat='2' data-popup='1' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  LIFX Mini Day & Dusk A60 E27
                </p>
                <p class="b-tab__text">
                  Включится в 17:00
                </p>
              </div>
            </div>
            <div data-cat='3' data-popup='2' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-2"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Xiaomi Mi Air Purifier 2S
                </p>
                <p class="b-tab__text">
                  Включено
                </p>
              </div>
            </div>
            <div data-cat='4' data-popup='3' class="b-tab js-popup">
              <i class="b-tab__ico mod-sun-1"></i>
              <div class="b-tab__content">
                <p class="b-tab__title">
                  Philips Zhirui
                </p>
                <p class="b-tab__text">
                  Выключено
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
<div class="b-footer mod-b-inner">
 <span class="b-footer__menu">
  <a href="#">Помощь</a>
  <a href="#">Обратная связь </a>
  <a href="#">Разработчикам</a>
  <a href="#">Условия использования</a>
 </span>
  <div class="copyright">
    <span>© 2001–2017  ООО «Яндекс»</span>
  </div>
</div>

<script src="scripts/jqvery/jquery-3.3.1.min.js"></script>
<script src="scripts/main.js" defer></script>
</div>
<div class="b-popup">
 <div class="b-popup__content">
  <div class="b-popup__head">
   <div>
   <h4 class="b-popup__tite">Elgato Eve Degree Connected</h4>
    <p class="b-popup__status">Включено</p>
   </div>
   <div>
    <span class="b-popup__value">+23 <i class="b-temp__ico mod-cloud"></i></span>
   </div>
  </div>
  <div class="b-popup_inner">
   <span class="b-cat__item is-active">Вручную</span>
   <span data-cat="1" class="b-cat__item">Холодно</span>
   <span data-cat="2" class="b-cat__item">Тепло</span>
   <span data-cat="3" class="b-cat__item">Жарко</span>
  </div>
  <input type="range" class="range">
  <div class="b-circle" data-min="-10" data-max="35">
   <svg width="64" height="75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M-42.5 91C18.527 91 68 41.527 68-19.5S18.527-130-42.5-130-153-80.527-153-19.5-103.527 91-42.5 91z" id="a"/><mask id="b" x="0" y="0" width="221" height="221" fill="#fff"><use xlink:href="#a"/></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-1 -1)" stroke="#333" stroke-width="48" fill="none" fill-rule="evenodd" opacity=".699" stroke-dasharray="1,4"/></svg>

   <div class="b-circle__dot"></div>
   <div class="b-circle__val"></div>
  </div>
 </div>
 <div class="b-popup__btns"></div>
</div>
<script>
  (function() {
    $(document).ready(function() {
      var is_dragging;
      is_dragging = false;
      $(document).on("mousedown touchstart", ".b-circle", function(e) {
        return is_dragging = true;
      });
      $(document).on("mouseup touchend", function(e) {
        return is_dragging = false;
      });
      return $(window).on("mousemove touchmove", function(e) {
        var angle, center_x, center_y, circle, delta_x, delta_y, pos_x, pos_y, touch;
        if (is_dragging) {
          circle = $(".b-circle");
          touch = void 0;
          if (e.originalEvent.touches) {
            touch = e.originalEvent.touches[0];
          }
          center_x = ($(circle).outerWidth() / 2) + $(circle).offset().left;
          center_y = ($(circle).outerHeight() / 2) + $(circle).offset().top;
          pos_x = e.pageX || touch.pageX;
          pos_y = e.pageY || touch.pageY;
          delta_y = center_y - pos_y;
          delta_x = center_x - pos_x;
          angle = Math.atan2(delta_y, delta_x) * (180 / Math.PI); // Calculate Angle between circle center and mouse pos
          angle -= 90;
          if (angle < 0) {
            angle = 360 + angle; // Always show angle positive
          }
          angle < 180 && angle > 0  ? angle = angle + 360 : "";
          var maxVal = circle.attr('data-max');
          var minVal = circle.attr('data-min');
          angle < 540 && angle > 495 ? angle = 495 :  angle > 180 && angle < 225 ? angle = 225 :"";
          // angle = Math.round(angle);
          var curVal =( (angle - 225) / 270 ) * (maxVal - minVal) + parseFloat(minVal);
          curVal =  Math.round(curVal) ;
          console.log(curVal);
          $(".b-circle__dot").css("transform", "rotate(" + angle + "deg)");
          // console.log(angle);
          return $(".b-circle__val").html(curVal > 0 ? "+" + curVal : curVal );
        }
      });
    });

  }).call(this);
</script>
</body>
</html>