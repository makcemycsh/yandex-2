<div class="b-footer mod-b-inner">
 <span class="b-footer__menu">
  <a href="#">Помощь</a>
  <a href="#">Обратная связь </a>
  <a href="#">Разработчикам</a>
  <a href="#">Условия использования</a>
 </span>
  <div class="copyright">
    <span>© 2001–2017  ООО «Яндекс»</span>
  </div>
</div>

<script src="scripts/jqvery/jquery-3.3.1.min.js"></script>
<script src="scripts/main.js" defer></script>
</div>
<div class="b-popup">
 <div class="b-popup__content">
  <div class="b-popup__head">
   <div>
   <h4 class="b-popup__tite">Elgato Eve Degree Connected</h4>
    <p class="b-popup__status">Включено</p>
   </div>
   <div>
    <span class="b-popup__value">+23 <i class="b-temp__ico mod-cloud"></i></span>
   </div>
  </div>
  <div class="b-popup_inner">
   <span class="b-cat__item is-active">Вручную</span>
   <span data-cat="1" class="b-cat__item">Холодно</span>
   <span data-cat="2" class="b-cat__item">Тепло</span>
   <span data-cat="3" class="b-cat__item">Жарко</span>
  </div>
  <input type="range" class="range">
  <div class="b-circle" data-min="-10" data-max="35">
   <svg width="64" height="75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M-42.5 91C18.527 91 68 41.527 68-19.5S18.527-130-42.5-130-153-80.527-153-19.5-103.527 91-42.5 91z" id="a"/><mask id="b" x="0" y="0" width="221" height="221" fill="#fff"><use xlink:href="#a"/></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-1 -1)" stroke="#333" stroke-width="48" fill="none" fill-rule="evenodd" opacity=".699" stroke-dasharray="1,4"/></svg>

   <div class="b-circle__dot"></div>
   <div class="b-circle__val"></div>
  </div>
 </div>
 <div class="b-popup__btns"></div>
</div>
<script>
  (function() {
    $(document).ready(function() {
      var is_dragging;
      is_dragging = false;
      $(document).on("mousedown touchstart", ".b-circle", function(e) {
        return is_dragging = true;
      });
      $(document).on("mouseup touchend", function(e) {
        return is_dragging = false;
      });
      return $(window).on("mousemove touchmove", function(e) {
        var angle, center_x, center_y, circle, delta_x, delta_y, pos_x, pos_y, touch;
        if (is_dragging) {
          circle = $(".b-circle");
          touch = void 0;
          if (e.originalEvent.touches) {
            touch = e.originalEvent.touches[0];
          }
          center_x = ($(circle).outerWidth() / 2) + $(circle).offset().left;
          center_y = ($(circle).outerHeight() / 2) + $(circle).offset().top;
          pos_x = e.pageX || touch.pageX;
          pos_y = e.pageY || touch.pageY;
          delta_y = center_y - pos_y;
          delta_x = center_x - pos_x;
          angle = Math.atan2(delta_y, delta_x) * (180 / Math.PI); // Calculate Angle between circle center and mouse pos
          angle -= 90;
          if (angle < 0) {
            angle = 360 + angle; // Always show angle positive
          }
          angle < 180 && angle > 0  ? angle = angle + 360 : "";
          var maxVal = circle.attr('data-max');
          var minVal = circle.attr('data-min');
          angle < 540 && angle > 495 ? angle = 495 :  angle > 180 && angle < 225 ? angle = 225 :"";
          // angle = Math.round(angle);
          var curVal =( (angle - 225) / 270 ) * (maxVal - minVal) + parseFloat(minVal);
          curVal =  Math.round(curVal) ;
          console.log(curVal);
          $(".b-circle__dot").css("transform", "rotate(" + angle + "deg)");
          // console.log(angle);
          return $(".b-circle__val").html(curVal > 0 ? "+" + curVal : curVal );
        }
      });
    });

  }).call(this);
</script>
</body>
</html>